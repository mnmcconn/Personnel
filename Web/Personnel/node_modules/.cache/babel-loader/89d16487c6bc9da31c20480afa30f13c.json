{"remainingRequest":"C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\src\\components\\layouts\\Personnel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\src\\components\\layouts\\Personnel.vue","mtime":1628882672631},{"path":"C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mitchel\\Documents\\GitHub\\Personnel\\Web\\Personnel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Users/Mitchel/Documents/GitHub/Personnel/Web/Personnel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport repo from \"@/utils/repo\"; //import spinner from \"@/components/controls/Spinner\"\n\nexport default {\n  name: \"Personnel\",\n  // components: { spinner },\n  data: function data() {\n    return {\n      isLoading: true,\n      manager: null,\n      managers: [],\n      employees: [],\n      selections: {\n        NodeGroupID: null,\n        UserID: null\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.refresh();\n  },\n  methods: {\n    getManagers: function getManagers() {\n      var _this = this;\n\n      console.log('before call to listManagers');\n      return repo.employees.listManagers().then(function (res) {\n        _this.managers = res.data.Data;\n\n        _this.managers.sort(function (a, b) {\n          return a.DisplayName.toLowerCase() > b.DisplayName.toLowerCase() ? 1 : -1;\n        });\n\n        _this.getEmployees();\n      }).catch(function (error) {\n        console.log('error.response', error.response);\n      });\n    },\n    getEmployees: function getEmployees() {\n      var _this2 = this;\n\n      return repo.employees.list(this.manager).then(function (res) {\n        _this2.employees = res.data.Data;\n\n        _this2.employees.sort(function (a, b) {\n          return a.LastName.toLowerCase() > b.LastName.toLowerCase() ? 1 : -1;\n        });\n      });\n    },\n    refresh: function () {\n      var _refresh = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.isLoading = true;\n                this.getManagers();\n                this.isLoading = false;\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function refresh() {\n        return _refresh.apply(this, arguments);\n      }\n\n      return refresh;\n    }(),\n    handleResponse: function handleResponse(res) {\n      if (res.data.Success) return true; //ct.incite.notify.error(res.data.Message, \"Error\");\n\n      return false;\n    },\n    managerChange: function managerChange() {\n      this.getEmployees();\n    }\n  }\n};",{"version":3,"sources":["Personnel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,OAAA,IAAA,MAAA,cAAA,C,CACA;;AACA,eAAA;AACA,QAAA,WADA;AAEA;AACA,MAHA,kBAGA;AACA,WAAA;AACA,iBAAA,IADA;AAGA,eAAA,IAHA;AAKA,gBAAA,EALA;AAMA,iBAAA,EANA;AAQA,kBAAA;AACA,qBAAA,IADA;AAEA,gBAAA;AAFA;AARA,KAAA;AAaA,GAjBA;AAkBA,SAlBA,qBAkBA;AACA,SAAA,OAAA;AACA,GApBA;AAqBA,WAAA;AACA,eADA,yBACA;AAAA;;AACA,cAAA,GAAA,CAAA,6BAAA;AACA,aAAA,KAAA,SAAA,CAAA,YAAA,GAAA,IAAA,CAAA,eAAA;AACA,cAAA,QAAA,GAAA,IAAA,IAAA,CAAA,IAAA;;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,iBAAA,EAAA,WAAA,CAAA,WAAA,KAAA,EAAA,WAAA,CAAA,WAAA,EAAA,GAAA,CAAA,GAAA,CAAA,CAAA;AAAA,SAAA;;AACA,cAAA,YAAA;AACA,OAJA,EAIA,KAJA,CAIA,iBAAA;AACA,gBAAA,GAAA,CAAA,gBAAA,EAAA,MAAA,QAAA;AACA,OANA,CAAA;AAOA,KAVA;AAWA,gBAXA,0BAWA;AAAA;;AACA,aAAA,KAAA,SAAA,CAAA,IAAA,CAAA,KAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA,eAAA,SAAA,GAAA,IAAA,IAAA,CAAA,IAAA;;AACA,eAAA,SAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,iBAAA,EAAA,QAAA,CAAA,WAAA,KAAA,EAAA,QAAA,CAAA,WAAA,EAAA,GAAA,CAAA,GAAA,CAAA,CAAA;AAAA,SAAA;AACA,OAHA,CAAA;AAIA,KAhBA;AAiBA,WAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,qBAAA,SAAA,GAAA,IAAA;AAEA,qBAAA,WAAA;AAEA,qBAAA,SAAA,GAAA,KAAA;;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAwBA,kBAxBA,0BAwBA,GAxBA,EAwBA;AAEA,UAAA,IAAA,IAAA,CAAA,OAAA,EACA,OAAA,IAAA,CAHA,CAKA;;AAEA,aAAA,KAAA;AACA,KAhCA;AAiCA,iBAjCA,2BAiCA;AACA,WAAA,YAAA;AACA;AAnCA;AArBA,CAAA","sourcesContent":["<template>\r\n    <div class=\"container-fluid\">\r\n        <!--<div class=\"row\" v-if=\"isLoading\">\r\n        <spinner :msg=\"'loading, please wait...'\"></spinner>\r\n        v-show=\"!isLoading\"\r\n    </div>-->\r\n        <div class=\"card\">\r\n            <div class=\"card-heading\">\r\n                <div class=\"row\">\r\n                    <div>\r\n                        <h1 class=\"lead\">Add New Employee</h1>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-6\">\r\n                        <div class=\"form-group\">\r\n                            <label>Manager</label>\r\n                            <select class=\"form-control\" v-model=\"manager\" @change=\"managerChange()\">\r\n                                <option v-for=\"x in managers\" :key=\"x.EmployeeID\" :value=\"x\">{{x.DisplayName}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-12 table-responsive\">\r\n                        <table class=\"table table-striped table-condensed table-bordered table-hover small\">\r\n                            <thead>\r\n                                <tr class=\"lightgrey\">\r\n                                    <td><b>Employee ID</b></td>\r\n                                    <td><b>Last Name</b></td>\r\n                                    <td><b>First Name</b></td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"e in employees\" :key=\"e.EmployeeID\" :value=\"e\">\r\n                                    <td>{{e.EmployeeCode}}</td>\r\n                                    <td>{{e.LastName}}</td>\r\n                                    <td>{{e.FirstName}}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-6\">\r\n                    <div class=\"form-group\">\r\n                        <button type=\"button\" class=\"btn btn-sm btn-primary\" @click=\"addEmployee()\" aria-label=\"Add Employee\">\r\n                            <span class=\"fa fa-add\" aria-hidden=\"true\"> Add Employee</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import repo from \"@/utils/repo\"\r\n    //import spinner from \"@/components/controls/Spinner\"\r\n    export default {\r\n        name: \"Personnel\",\r\n       // components: { spinner },\r\n        data() {\r\n            return {\r\n                isLoading: true,\r\n\r\n                manager: null,\r\n\r\n                managers: [],\r\n                employees: [],\r\n\r\n                selections: {\r\n                    NodeGroupID: null,\r\n                    UserID: null\r\n                },\r\n            }\r\n        },\r\n        mounted() {\r\n            this.refresh();\r\n        },\r\n        methods: {\r\n            getManagers() {\r\n                console.log('before call to listManagers');\r\n                return repo.employees.listManagers().then(res => {\r\n                    this.managers = res.data.Data;\r\n                    this.managers.sort((a, b) => (a.DisplayName.toLowerCase() > b.DisplayName.toLowerCase()) ? 1 : -1)\r\n                    this.getEmployees();\r\n                }).catch(error => {\r\n                    console.log('error.response', error.response);\r\n                });\r\n            },\r\n            getEmployees() {\r\n                return repo.employees.list(this.manager).then(res => {\r\n                    this.employees = res.data.Data;\r\n                    this.employees.sort((a, b) => (a.LastName.toLowerCase() > b.LastName.toLowerCase()) ? 1 : -1)\r\n                });\r\n            },\r\n            async refresh() {\r\n                this.isLoading = true\r\n\r\n                this.getManagers();\r\n\r\n                this.isLoading = false;\r\n            },\r\n            handleResponse(res) {\r\n\r\n                if (res.data.Success)\r\n                    return true;\r\n\r\n                //ct.incite.notify.error(res.data.Message, \"Error\");\r\n\r\n                return false;\r\n            },\r\n            managerChange() {\r\n                this.getEmployees();\r\n            },\r\n\r\n        }\r\n\r\n    };\r\n</script>\r\n\r\n"],"sourceRoot":"src/components/layouts"}]}